<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title></title>
  <style>
    body {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
    }

    #linkContainer {
      text-align: center;
    }

    #whatsappLink {
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <script type="text/javascript">
    window.onload = function () {
      function getParameterByName(name, url = window.location.href) {
        name = name.replace(/[\[\]]/g, '\\$&');
        var regex = new RegExp('[?&]' + name + '(=([^&#]*)|&|#|$)'),
          results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, ' '));
      }

      var whatsappGroupLink = 'chat.whatsapp.com/';
      var fallbackURL = getParameterByName('u');

      if (fallbackURL) {
        fallbackURL = fallbackURL.trim();

        if (!fallbackURL.includes(whatsappGroupLink)) {
          fallbackURL = 'https://' + whatsappGroupLink + fallbackURL;
        }

        // Create a container div for centering the content
        var linkContainer = document.createElement('div');
        linkContainer.id = 'linkContainer';

        // Display clickable link and button for 5 seconds
        var whatsappLink = document.createElement('a');
        whatsappLink.href = fallbackURL;
        whatsappLink.textContent = 'Click here to join the WhatsApp group.';
        whatsappLink.id = 'whatsappLink';

        var showLinkButton = document.createElement('button');
        showLinkButton.textContent = 'Show WhatsApp Group Link';
        showLinkButton.onclick = function() {
          alert('WhatsApp Group Link: ' + fallbackURL);
        };

        // Append the link and button to the container
        linkContainer.appendChild(whatsappLink);
        linkContainer.appendChild(showLinkButton);

        // Append the container to the body
        document.body.appendChild(linkContainer);

        // Delay removal of the container and redirection for 5 seconds
        setTimeout(function() {
          // Remove the container
          document.body.removeChild(linkContainer);

          // Open link directly without waiting for user interaction
          window.open(fallbackURL, '_self');
        }, 5000);
      }
    };
  </script>
</body>
</html>
